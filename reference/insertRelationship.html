<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Record a relationship of the form "subject -&amp;gt; predicate -&amp;gt; object", as defined by the Resource Description Framework (RDF), i.e.
an RDF triple.'><title>Record relationships of objects in a DataPackage — insertRelationship • datapack</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Record relationships of objects in a DataPackage — insertRelationship"><meta property="og:description" content='Record a relationship of the form "subject -&amp;gt; predicate -&amp;gt; object", as defined by the Resource Description Framework (RDF), i.e.
an RDF triple.'><meta property="og:image" content="https://docs.ropensci.org/datapack/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">datapack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/datapack-overview.html">datapack R Package Overview</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/datapack/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Record relationships of objects in a DataPackage</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/datapack/blob/HEAD/R/DataPackage.R" class="external-link"><code>R/DataPackage.R</code></a></small>
      <div class="d-none name"><code>insertRelationship.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Record a relationship of the form "subject -&gt; predicate -&gt; object", as defined by the Resource Description Framework (RDF), i.e.
an RDF triple.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">insertRelationship</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for DataPackage</span></span>
<span><span class="fu">insertRelationship</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">subjectID</span>,</span>
<span>  <span class="va">objectIDs</span>,</span>
<span>  predicate <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  subjectType <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  objectTypes <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  dataTypeURIs <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A DataPackage object</p></dd>


<dt>...</dt>
<dd><p>(Additional parameters)</p></dd>


<dt>subjectID</dt>
<dd><p>The identifier of the subject of the relationship</p></dd>


<dt>objectIDs</dt>
<dd><p>A list of identifiers of the object of the relationships (a relationship is recorded for each objectID)</p></dd>


<dt>predicate</dt>
<dd><p>The IRI of the predicate of the relationship</p></dd>


<dt>subjectType</dt>
<dd><p>the type to assign the subject, values can be 'uri', 'blank'</p></dd>


<dt>objectTypes</dt>
<dd><p>the types to assign the objects (cal be single value or list), each value can be 'uri', 'blank', or 'literal'</p></dd>


<dt>dataTypeURIs</dt>
<dd><p>An RDF data type that specifies the type of the object</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>the updated DataPackage object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For use with DataONE, a best practice is to specify the subject and predicate as DataONE persistent identifiers 
(https://mule1.dataone.org/ArchitectureDocs-current/design/PIDs.html). If the objects are not known to DataONE, then local identifiers can be
used, and these local identifiers may be promoted to DataONE PIDs when the package is uploaded to a DataONE member node.
The predicate is typically an RDF property (as a IRI) from a schema supported by DataONE, i.e. "http://www.w3.org/ns/prov#wasGeneratedBy"
If multiple values are specified for argument objectIDS, a relationship is created for each value in the list "objectIDs". IF a value
is not specified for subjectType or objectType, then NA is assigned. Note that if these relationships are fetched via the getRelationships()
function, and passed to the createFromTriples() function to initialize a ResourceMap object, the underlying redland package will assign
appropriate values for subjects and objects.
Note: This method updates the passed-in DataPackage object.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="DataPackage-class.html">DataPackage-class</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dp</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"DataPackage"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create a relationship</span></span></span>
<span class="r-in"><span><span class="va">dp</span> <span class="op">&lt;-</span> <span class="fu">insertRelationship</span><span class="op">(</span><span class="va">dp</span>, <span class="st">"/Users/smith/scripts/genFields.R"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"https://knb.ecoinformatics.org/knb/d1/mn/v1/object/doi:1234/_030MXTI009R00_20030812.40.1"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"http://www.w3.org/ns/prov#used"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create a relationshp with the subject as a blank node with an automatically assigned blank </span></span></span>
<span class="r-in"><span><span class="co"># node id</span></span></span>
<span class="r-in"><span><span class="va">dp</span> <span class="op">&lt;-</span> <span class="fu">insertRelationship</span><span class="op">(</span><span class="va">dp</span>, subjectID<span class="op">=</span><span class="cn">NA_character_</span>, objectIDs<span class="op">=</span><span class="st">"thing6"</span>, </span></span>
<span class="r-in"><span>    predicate<span class="op">=</span><span class="st">"http://www.myns.org/wasThing"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create a relationshp with the subject as a blank node with a user assigned blank node id</span></span></span>
<span class="r-in"><span><span class="va">dp</span> <span class="op">&lt;-</span> <span class="fu">insertRelationship</span><span class="op">(</span><span class="va">dp</span>, subjectID<span class="op">=</span><span class="st">"urn:uuid:bc9e160e-ca21-47d5-871b-4a4820fe4451"</span>, </span></span>
<span class="r-in"><span>      objectIDs<span class="op">=</span><span class="st">"thing7"</span>, predicate<span class="op">=</span><span class="st">"http://www.myns.org/hadThing"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create multiple relationships with the same subject, predicate, but different objects</span></span></span>
<span class="r-in"><span><span class="va">dp</span> <span class="op">&lt;-</span> <span class="fu">insertRelationship</span><span class="op">(</span><span class="va">dp</span>, subjectID<span class="op">=</span><span class="st">"urn:uuid:95055dc1-b2a0-4a00-bdc2-05c16d048ca2"</span>, </span></span>
<span class="r-in"><span>      objectIDs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"thing4"</span>, <span class="st">"thing5"</span><span class="op">)</span>, predicate<span class="op">=</span><span class="st">"http://www.myns.org/hadThing"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Create multiple relationships with subject and object types specified</span></span></span>
<span class="r-in"><span><span class="va">dp</span> <span class="op">&lt;-</span> <span class="fu">insertRelationship</span><span class="op">(</span><span class="va">dp</span>, subjectID<span class="op">=</span><span class="st">"orcid.org/0000-0002-2192-403X"</span>, </span></span>
<span class="r-in"><span>    objectIDs<span class="op">=</span><span class="st">"http://www.example.com/home"</span>, predicate<span class="op">=</span><span class="st">"http://www.example.com/hadHome"</span>,</span></span>
<span class="r-in"><span>                   subjectType<span class="op">=</span><span class="st">"uri"</span>, objectType<span class="op">=</span><span class="st">"literal"</span><span class="op">)</span>                </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

